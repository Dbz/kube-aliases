#!/bin/bash

# Search pods using regular expression

iPOSITIONAL=()
while [[ $# -gt 0 ]]
do
key="$1"

case $key in
  -C) 
    kpfind Completed
    shift
    ;;
  -c) 
    kpfind CrashLoopBackOff
    shift
    ;;
  -f) 
    kpfind Failed
    shift
    ;;
  -p) 
    kpfind Pending
    shift
    ;;
  -r) 
    kpfind Running
    shift
    ;;
  -s) 
    kpfind Succeded
    shift
    ;;
  -u) 
    kpfind Unknown
    shift
    ;;
  -h) 
    echo "Usage: kstatus -[C|c|f|p|r|s|u]"
    echo "  -C                           Completed"
    echo "  -c                           CrashLoopBackOff"
    echo "  -f                           Failed"
    echo "  -p                           Pending"
    echo "  -r                           Running"
    echo "  -s                           Succeeded"
    echo "  -u                           Unknown"
    shift
    ;;
esac
done
set -- "${POSITIONAL[@]}" # restore positional parameters

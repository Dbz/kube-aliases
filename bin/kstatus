#!/bin/bash

function usage {
  echo "Usage: kstatus -[C|c|f|p|r|s|u]"
  echo "  -C                           Completed"
  echo "  -c                           CrashLoopBackOff"
  echo "  -f                           Failed"
  echo "  -p                           Pending"
  echo "  -r                           Running"
  echo "  -s                           Succeeded"
  echo "  -u                           Unknown"
}

while getopts "acCfprsu?h" opt; do
  case $opt in
    a)
      flag="-a"
      ;;
    c)
      search=CrashLoopBackOff
      ;;
    C)
      search=Completed
      ;;
    f)
      search=Failed
      ;;
    p)
      search=Pending
      ;;
    r)
      search=Running
      ;;
    s)
      search=Succeded
      ;;
    u)
      search=Unknown
      ;;
    h|\?)
      # echo "Invalid option: -$OPTARG" >&2
      usage
      exit 0
      ;;
  esac
done

kpfind ${flag} ${search}
